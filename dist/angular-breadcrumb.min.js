/*! angular-breadcrumb - v0.1.0 - 2014-02-04
* https://github.com/alivanov/angular-breadcrumb
* Copyright (c) 2014 Alexey Ivanov; Licensed MIT */
angular.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",function(){var a={};this.setPrefixState=function(b){a.prefixStateName=b};var b=function(a,b){var c=!1;return angular.forEach(a,function(a){!c&&angular.equals(a,b)&&(c=!0)}),c||a.push(b),c};this.$get=["$state",function(c){return{getStatesChain:function(){var d=[];if(a.prefixStateName){var e=c.get(a.prefixStateName);if(!e)throw'Bad configuration : prefixState "'+a.prefixStateName+'" unknown';b(d,e)}return angular.forEach(c.$current.path,function(a){b(d,a.self)}),d}}}]}).directive("ncyBreadcrumb",function(a,b){var c=function(b){return"function"==typeof b?b(a.params):b},d=function(a){return"undefined"==typeof a?" / ":a};return function(e,f){var g=function(){for(var a,e=b.getStatesChain(),g="",h={},i=0;i<e.length;i++)h=e[i],h.data?(h.breadcrumbString=c(h.data.breadcrumbLabel),a=d(h.data.separator)):(h.breadcrumbString=h.name,a=" / "),g+=i===e.length-1?"<span>"+h.breadcrumbString+"</span>":'<a href="#!'+h.url+'">'+h.breadcrumbString+"</a><span> "+a+" </span>";f.html(g)};e.$watch(function(){return a.current},g,!0),e.$watch(function(){return a.params},g,!0)}});